# ==========================================================
# OpenClash è¦†å†™é…ç½®æ–‡ä»¶ - Smart æ™ºèƒ½æ¨¡å¼
# æ¥æº: local / dustinwin_ruleset_config
# Provideræ•°é‡: 2
# ç‰¹æ€§: è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹
# ==========================================================

[General]
CORE_TYPE = Smart
CONFIG_FILE = /etc/openclash/config/dustinwin_ruleset_config.yaml

# DNS è®¾ç½®
ENABLE_REDIRECT_DNS = 1
ENABLE_CUSTOM_DNS = 0
APPEND_WAN_DNS = 1
STORE_FAKEIP = 1
CUSTOM_FAKEIP_FILTER = 1
CUSTOM_FAKEIP_FILTER_MODE = blacklist
FAKEIP_RANGE = 198.18.0.1/16

# IPv6
IPV6_ENABLE = 1
IPV6_DNS = 1
ENABLE_V6_UDP_PROXY = 1

# ä»£ç†æ¨¡å¼
EN_MODE = fake-ip
ENABLE_UDP_PROXY = 1
ROUTER_SELF_PROXY = 1
PROXY_MODE = rule

# Smart æ¨¡å¼è®¾ç½®
AUTO_SMART_SWITCH = 1
SMART_STRATEGY = sticky-sessions
SMART_ENABLE_LGBM = 0
SMART_POLICY_PRIORITY = Premium:0.9;SG:1.3;HK:1.5
SMART_COLLECT = 1
SMART_COLLECT_SIZE = 500
SMART_COLLECT_RATE = 1

# è®¢é˜…ä¿¡æ¯
SUB_INFO_URL1 = $EN_KEY1
SUB_INFO_URL2 = $EN_KEY2

# ä¸‹è½½é…ç½®
DOWNLOAD_FILE = url=https://raw.githubusercontent.com/MARSCHIAO/openclash_config_generator/main/processed_configs/local/dustinwin_ruleset_config.yaml, path=/etc/openclash/config/dustinwin_ruleset_config.yaml, cron=0 6 * * *, force=true

RESTART = true

[Overwrite]
# æ›´æ–°è®¢é˜…é“¾æ¥
ruby_edit "$CONFIG_FILE" "['proxy-providers']['ğŸ›« æœºåœºè®¢é˜…']['url']" "$EN_KEY1"
ruby_edit "$CONFIG_FILE" "['proxy-providers']['ğŸ†“ å…è´¹è®¢é˜…']['url']" "$EN_KEY2"
