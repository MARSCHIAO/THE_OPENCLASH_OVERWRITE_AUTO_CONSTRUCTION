# ==========================================================
# OpenClash è¦†å†™é…ç½®æ–‡ä»¶ - æ—è·¯ç”±æ¨¡å¼
# æ¥æº: local / dustinwin_ruleset_config
# Provideræ•°é‡: 2
# æ³¨æ„: å¿…é¡»è®¾ç½® EN_DNS ç¯å¢ƒå˜é‡
# ==========================================================

[General]
CORE_TYPE = Meta
CONFIG_FILE = /etc/openclash/config/dustinwin_ruleset_config.yaml

# DNS è®¾ç½®ï¼ˆæ—è·¯ç”±æ¨¡å¼ï¼‰
ENABLE_REDIRECT_DNS = 1
APPEND_WAN_DNS = 1
STORE_FAKEIP = 1
CUSTOM_FAKEIP_FILTER = 1
CUSTOM_FAKEIP_FILTER_MODE = blacklist
FAKEIP_RANGE = 198.18.0.1/16

# IPv6
IPV6_ENABLE = 1
IPV6_DNS = 1
ENABLE_V6_UDP_PROXY = 1

# ä»£ç†æ¨¡å¼
EN_MODE = fake-ip
ENABLE_UDP_PROXY = 1
ROUTER_SELF_PROXY = 1
PROXY_MODE = rule

# æ—è·¯ç”±ç‰¹æœ‰
INTRANET_ALLOWED = 0
BYPASS_GATEWAY_COMPATIBLE = 1

# è®¢é˜…ä¿¡æ¯
SUB_INFO_URL1 = $EN_KEY1
SUB_INFO_URL2 = $EN_KEY2

# ä¸‹è½½é…ç½®
DOWNLOAD_FILE = url=https://raw.githubusercontent.com/MARSCHIAO/openclash_config_generator/main/processed_configs/local/dustinwin_ruleset_config.yaml, path=/etc/openclash/config/dustinwin_ruleset_config.yaml, cron=0 6 * * *, force=true

RESTART = true

[Overwrite]
# æ›´æ–°è®¢é˜…é“¾æ¥
ruby_edit "$CONFIG_FILE" "['proxy-providers']['ğŸ›« æœºåœºè®¢é˜…']['url']" "$EN_KEY1"
ruby_edit "$CONFIG_FILE" "['proxy-providers']['ğŸ†“ å…è´¹è®¢é˜…']['url']" "$EN_KEY2"

# æ—è·¯ç”±å¿…é¡»è®¾ç½® DNS
ruby_edit "$CONFIG_FILE" "['dns']['nameserver']" "$EN_DNS"